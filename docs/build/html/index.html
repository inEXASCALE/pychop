

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to Pychop’s documentation! &mdash; pychop 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=53e15035" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Start" href="start.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            pychop
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="start.html">Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="chop.html">Floating point simuluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="lightchop.html">Float Precision Simulator Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="mathfunc.html">Mathematical Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="integer.html">Integer quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="fix_point.html">Fixed point quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="fix_point.html#fixed-point-simulator-classes">Fixed-Point Simulator Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers.html">Quantized Layers Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizers.html">Quantized Optimizers Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">pychop</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Welcome to Pychop’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-pychop-s-documentation">
<h1>Welcome to Pychop’s documentation!<a class="headerlink" href="#welcome-to-pychop-s-documentation" title="Link to this heading"></a></h1>
<p>Using low precesion can gain extra speedup while resulting in less storage and energy cost.
The intention of pychop, motivated by software <code class="docutils literal notranslate"><span class="pre">chop</span></code> in Matlab developed by Nick higham,
is to simulate the low precision formats based on single and double precisions,
which is pravalent on modern machine.  <code class="docutils literal notranslate"><span class="pre">pychop</span></code> is a Python package for simulaing low precision
and quantization in modern machine, it supports NumPy, Torch,  or JAX backend.</p>
<p><code class="docutils literal notranslate"><span class="pre">pychop</span></code> mainly contains three modules for quantization simulation:</p>
<ul class="simple">
<li><p>chop: for low precision floating point simulation</p></li>
<li><p>quant: for integer quantization</p></li>
<li><p>fixed_point: for fixed point quantization</p></li>
</ul>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">pychop</span></code> class offers several key advantages that make it a powerful tool for developers, researchers, and engineers working with numerical computations:</p>
<ul class="simple">
<li><p>Customizable Precision:</p></li>
</ul>
<p>Users can specify the number of exponent (exp_bits) and significand (sig_bits) bits, enabling precise control over the trade-off between range and precision. For example, setting exp_bits=5 and sig_bits=4 creates a compact 10-bit format (1 sign, 5 exponent, 4 significand), ideal for testing minimal precision scenarios.</p>
<ul class="simple">
<li><p>Multiple Rounding Modes:</p></li>
</ul>
<p>Supports a variety of rounding strategies, including deterministic (toward_zero, nearest_even, nearest_odd) and stochastic (stochastic_prop, stochastic_equal) methods. This flexibility allows experimentation with different quantization effects, which is crucial for machine learning models where rounding impacts training dynamics and inference accuracy.</p>
<ul class="simple">
<li><p>Hardware-Independent Simulation:</p></li>
</ul>
<p>Emulates low-precision arithmetic within standard float32 or float64 precision, eliminating the need for specialized hardware. This makes it accessible for prototyping and testing on any PyTorch-supported platform, from CPUs to GPUs, without requiring custom FPGA or ASIC implementations.</p>
<ul class="simple">
<li><p>Support for Denormal Numbers:</p></li>
</ul>
<p>The optional support_denormals parameter enables handling of subnormal numbers, extending the representable range near zero. This is particularly valuable for applications requiring high fidelity at small magnitudes, such as scientific simulations or deep learning with small gradients.</p>
<ul class="simple">
<li><p>GPU Acceleration:</p></li>
</ul>
<p>Leveraging PyTorch’s tensor operations and device support (device parameter), <code class="docutils literal notranslate"><span class="pre">pychop</span></code> can run efficiently on GPUs. This allows for fast, vectorized processing of large datasets, making it suitable for large-scale experiments in machine learning and numerical optimization.</p>
<ul class="simple">
<li><p>Reproducible Stochastic Rounding:</p></li>
</ul>
<p>The seed parameter ensures reproducibility in stochastic rounding modes, critical for debugging and comparing results across runs. This is a significant advantage in research settings where consistent outcomes are needed to validate hypotheses.
To ensure consistency with MATLAB’s chop software, <code class="docutils literal notranslate"><span class="pre">pychop</span></code> closely follows its API. For the first four rounding modes, it produces identical results given the same user-defined parameters. For stochastic rounding modes (rmode 5 and 6), both tools yield the same output when provided with identical random numbers.</p>
<ul class="simple">
<li><p>Ease of Integration:</p></li>
</ul>
<p>Built on PyTorch, the class integrates seamlessly with existing PyTorch workflows, including neural network training pipelines and custom numerical algorithms. The input value can be any array-like object, automatically converted to a tensor, enhancing usability.</p>
<ul class="simple">
<li><p>Error Detection:</p></li>
</ul>
<p>Includes overflow checking with informative error messages (e.g., OverflowError), helping users identify and handle edge cases in their custom formats.</p>
</section>
<section id="installation-guide">
<h2>Installation guide<a class="headerlink" href="#installation-guide" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pychop</span></code> has the following dependencies for its functionality:</p>
<blockquote>
<div><ul class="simple">
<li><p>numpy&gt;=1.21</p></li>
<li><p>pandas&gt;=2.0</p></li>
<li><p>torch (only for Torch use)</p></li>
<li><p>jax (only for JAX use)</p></li>
</ul>
</div></blockquote>
<p>To install the current release via PIP use either of them according to one’s need:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pychop</span>
</pre></div>
</div>
<p>To check if the instalment is successful, one can load the package, simple use</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pychop</span>
</pre></div>
</div>
</section>
<section id="floating-point-information">
<h2>Floating point information<a class="headerlink" href="#floating-point-information" title="Link to this heading"></a></h2>
<p>To give a shot, one may print information of various precision formats:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pychop</span> <span class="kn">import</span> <span class="n">float_params</span>
<span class="n">float_params</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition-note admonition">
<p class="admonition-title">Note</p>
<p>The documentation is still on going. We welcome the contributions in any forms.</p>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="start.html">Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="chop.html">Floating point simuluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="lightchop.html">Float Precision Simulator Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lightchop.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="lightchop.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="lightchop.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mathfunc.html">Mathematical Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mathfunc.html#trigonometric-functions">Trigonometric Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathfunc.html#hyperbolic-functions">Hyperbolic Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathfunc.html#exponential-and-logarithmic-functions">Exponential and Logarithmic Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathfunc.html#power-and-root-functions">Power and Root Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathfunc.html#miscellaneous-functions">Miscellaneous Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathfunc.html#additional-mathematical-functions">Additional Mathematical Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="integer.html">Integer quantization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="integer.html#basic-usage">Basic usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="integer.html#quantization-aware-training">Quantization aware training</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fix_point.html">Fixed point quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="fix_point.html#fixed-point-simulator-classes">Fixed-Point Simulator Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fix_point.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_point.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_point.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="layers.html">Quantized Layers Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="layers.html#classes">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="layers.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="optimizers.html">Quantized Optimizers Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="optimizers.html#classes">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimizers.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="start.html" class="btn btn-neutral float-right" title="Start" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, InEXASCALE computing.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>